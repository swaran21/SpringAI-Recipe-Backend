services:
  - type: web
    name: springai-recipe-backend
    runtime: java21
    region: oregon
    branch: main
    plan: free
    buildFilter:
      paths:
        - "src/**"
        - "pom.xml"
        - "system.properties"
        - ".mvn/**"
        - "mvnw"
        - "mvnw.cmd"
        - "render.yaml"
    buildCommand: "./mvnw clean package -DskipTests"
    startCommand: "java -jar target/SpringAIProject-0.0.1-SNAPSHOT.jar"
    healthCheckPath: /health
    envVars:
      - key: OPENAI_API_KEY
        sync: false